---
title: shell-数值与字符串比较
tags: shell比较操作符
categories: shell
date: 2022-06-28 23:46:17
---

### **1.只适用于数值的比较**

该类型操作会把两边变量当成整型进行加减运算，字符串abcd按整型运算无法进行，所以此类型不能用于字符串比较

| 参数 | 说明           |
| ---- | -------------- |
| -eq  | 等于则为真     |
| -ne  | 不等于则为真   |
| -gt  | 大于则为真     |
| -ge  | 大于等于则为真 |
| -lt  | 小于则为真     |
| -le  | 小于等于则为真 |

### **2.适用于字符串的比较（也可用于数值比较）**

| 参数 | 说明         |
| ---- | ------------ |
| ==   | 相等则为真   |
| !=   | 不相等则为真 |

### **3.字符串测试运算**

| 参数      | 说明                     |
| --------- | ------------------------ |
| -z 字符串 | 字符串的长度为零则为真   |
| -n 字符串 | 字符串的长度不为零则为真 |

### **4.文件测试运算**

| 参数      | 说明                                 |
| --------- | ------------------------------------ |
| -e 文件名 | 如果文件存在则为真                   |
| -r 文件名 | 如果文件存在且可读则为真             |
| -w 文件名 | 如果文件存在且可写则为真             |
| -x 文件名 | 如果文件存在且可执行则为真           |
| -s 文件名 | 如果文件存在且至少有一个字符则为真   |
| -d 文件名 | 如果文件存在且为目录则为真           |
| -f 文件名 | 如果文件存在且为普通文件则为真       |
| -c 文件名 | 如果文件存在且为字符型特殊文件则为真 |
| -b 文件名 | 如果文件存在且为块特殊文件则为真     |

### 5.**特殊说明**

1. 在各种运算中，test命令的运算和中括号是等效的

2. 赋值时等号两边没空格，比较或测试时运算符两边都要有空格

3. shell默认是字符运算，如果想当数值进行运算要在前边加上expr，如：expr $var1 + $var2

4. shell的文件包含命令只有“.”，而且该命令只能一次包含单个文件（当然可以用*表示文件夹下所有文件）而不能包含一个文件夹；所见的!includedir和#includedir并不存在这样的命令，应该是程序自己实现的包含功能

5. “.”在shell中执行则会影响shell的环境，但如果只在脚本中执行那只影响脚本中的环境不会影响当前shell的环境；source其实也如此。
